import runpod

# Configure sua API Key
runpod.api_key = "SUA_API_KEY_AQUI"

def processar_story_forge(topic, duration=60, voice="pt-BR-AntonioNeural"):
    """
    Chama o worker StoryForge AI na nuvem.
    """
    endpoint_id = "SEU_ENDPOINT_ID" # Ex: vllm-xyz...
    
    input_payload = {
        "input": {
            "topic": topic,
            "duration": duration,
            "voice": voice
        }
    }
    
    print(f"üöÄ Enviando Job StoryForge: {topic}...")
    
    try:
        endpoint = runpod.Endpoint(endpoint_id)
        run_request = endpoint.run(input_payload)
        
        # Espera s√≠ncrona (pode demorar 1-2 mins para v√≠deo)
        result = run_request.output()
        
        print("‚úÖ V√≠deo Gerado com Sucesso!")
        print(f"üìÇ Path Remoto: {result.get('video_path')}")
        return result
        
    except Exception as e:
        print(f"‚ùå Erro na requisi√ß√£o: {e}")
        return None

# Teste R√°pido
if __name__ == "__main__":
    processar_story_forge("O Futuro da IA", duration=45)
